## app_0_make_faiss_db
## 関数・詳細設計書

### `get_embedding(text)`

| **項目**        | **詳細**                                                                 |
|-----------------|-------------------------------------------------------------------------|
| **概要**        | OpenAIのEmbedding APIを利用して、与えられたテキストをベクトル化する関数。 |
| **INPUT**       | `text`: (文字列) ベクトル化したいテキスト。                              |
| **PROCESS**     | 1. OpenAIの`Embedding.create`メソッドを呼び出し、指定したテキストを入力してベクトルを生成。<br>2. 生成されたベクトル（埋め込み）を返却。 |
| **OUTPUT**      | `embedding`: (リスト) テキストのベクトル表現（数値のリスト）。          |

### `search_chunk(query, k=5)`

| **項目**        | **詳細**                                                                 |
|-----------------|-------------------------------------------------------------------------|
| **概要**        | クエリに基づいて、類似したベクトルを検索し、関連するコードスニペットを返す関数。 |
| **INPUT**       | `query`: (文字列) 検索したいクエリテキスト。<br>`k`: (整数, デフォルト値=5) 返される検索結果の最大数。 |
| **PROCESS**     | 1. `get_embedding`関数を利用して、クエリをベクトル化。<br>2. Faissインデックスを用いて、ベクトル空間内で最も類似したベクトルを検索。<br>3. 検索結果から、対応するコードスニペットをデータフレームから取得。 |
| **OUTPUT**      | `results`: (リスト) クエリに最も類似した`k`個のコードスニペットのリスト。 |

